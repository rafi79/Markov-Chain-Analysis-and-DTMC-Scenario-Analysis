<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IEEE 802.15.6 DTMC Markov Chain Tutorial</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>IEEE 802.15.6 DTMC Analysis</h1>
            <p>Complete Guide to Discrete Time Markov Chain for WBAN</p>
        </div>

        <!-- Problem 1: Markov Chain Description -->
        <div class="problem-section" id="problem1">
            <div class="problem-header">
                Problem 1: Markov Chain Analysis
            </div>
            <div class="problem-content">
                <div class="question-box">
                    <h3>Question 6:</h3>
                    <p>Following figure depicts the <span class="highlight">Discrete Time Markov Chain (DTMC)</span> for the IEEE 802.15.6 slotted ALOHA.</p>
                    <p><strong>Tasks:</strong></p>
                    <ol>
                        <li><strong>i.</strong> Describe the above Markov chain</li>
                        <li><strong>ii.</strong> Find out the one-step transition probabilities</li>
                        <li><strong>iii.</strong> Explain how would you solve the above DTMC?</li>
                    </ol>
                </div>

                <!-- Markov Chain Diagram -->
                <div class="markov-diagram">
                    <h4>IEEE 802.15.6 DTMC State Diagram</h4>
                    <div class="state-diagram">
                        <div class="state-node">0</div>
                        <span class="arrow">‚Üí</span>
                        <div class="state-node">1</div>
                        <span class="arrow">‚Üí</span>
                        <div class="state-node">2</div>
                        <span class="arrow">‚Üí</span>
                        <div class="state-node">k</div>
                        <span class="arrow">‚Üí</span>
                        <div class="state-node">m</div>
                    </div>
                    <p class="diagram-caption">
                        States represent retransmission attempts: 0 (initial) ‚Üí 1 (1st retry) ‚Üí ... ‚Üí m (final retry)
                    </p>
                </div>

                <!-- Part i: Describe the Markov Chain -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">i</div>
                        <div class="step-title">Describe the Markov Chain</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>What is this Problem About?</h4>
                            <p>This is a <strong>Discrete Time Markov Chain (DTMC)</strong> that models how a wireless sensor node behaves when trying to send data using the <strong>IEEE 802.15.6 slotted ALOHA protocol</strong>. Think of it like a game where nodes take turns trying to send messages, and sometimes they collide!</p>
                        </div>

                        <div class="sub-section">
                            <h4>What are the States?</h4>
                            <p>The DTMC has <strong>states numbered 0, 1, 2, ..., k, ..., m</strong></p>
                            
                            <div class="definition-box">
                                <strong>What each state means:</strong><br>
                                ‚Ä¢ <strong>State 0</strong>: "Fresh start" - Node has a new packet ready to send<br>
                                ‚Ä¢ <strong>State 1</strong>: "First retry" - Node tried once but failed, now trying again<br>
                                ‚Ä¢ <strong>State 2</strong>: "Second retry" - Node tried twice but failed<br>
                                ‚Ä¢ <strong>State k</strong>: "k-th retry" - Node has failed k times<br>
                                ‚Ä¢ <strong>State m</strong>: "Final retry stage" - Maximum number of retries reached
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>What are the Events in Each Slot?</h4>
                            <p>For a node in state k, three things can happen:</p>
                            
                            <div class="probability-grid">
                                <div class="probability-card">
                                    <div class="probability-title">p(k,Œπ) - IDLE</div>
                                    <p>Node decides not to transmit (stays quiet)</p>
                                </div>
                                <div class="probability-card">
                                    <div class="probability-title">p(k,s) - SUCCESS</div>
                                    <p>Node transmits and succeeds (no collision)</p>
                                </div>
                                <div class="probability-card">
                                    <div class="probability-title">p(k,c) - COLLISION</div>
                                    <p>Node transmits but collides with others</p>
                                </div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>How Does the Chain Work?</h4>
                            <div class="result-box">
                                <strong>Key Rules:</strong><br>
                                1. <strong>Success from any state</strong> ‚Üí Go back to state 0 (fresh start)<br>
                                2. <strong>Collision</strong> ‚Üí Move to next higher state (more retries)<br>
                                3. <strong>Idle</strong> ‚Üí Stay in same state (wait and try later)<br>
                                4. <strong>At final state m</strong> ‚Üí Can only stay or go back to 0
                            </div>
                        </div>

                        <div class="concept-box">
                            <h4>Physical Interpretation</h4>
                            <p><strong>Why does this make sense?</strong></p>
                            <ul>
                                <li>When you fail to send a message, you become more "careful" (lower transmission probability)</li>
                                <li>Each state represents how "frustrated" the node is</li>
                                <li>Higher states = more failed attempts = more cautious behavior</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Part ii: One-Step Transition Probabilities -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">ii</div>
                        <div class="step-title">One-Step Transition Probabilities</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>What are Transition Probabilities?</h4>
                            <p><strong>Transition probability Pr(j|i)</strong> = Probability of moving from state i to state j in one time step</p>
                        </div>

                        <div class="sub-section">
                            <h4>Complete Set of Transitions</h4>
                            
                            <div class="equation-set">
                                <h4>From State 0 (Initial State):</h4>
                                <div class="equation">Pr(0|0) = p(0,s) + p(0,Œπ)    [Stay in state 0: success OR idle]</div>
                                <div class="equation">Pr(1|0) = p(0,c)             [Move to state 1: collision]</div>
                                <div class="equation">Pr(j|0) = 0                  [Can't jump to states 2,3,...,m directly]</div>
                            </div>

                            <div class="equation-set">
                                <h4>From Intermediate States k (1 ‚â§ k ‚â§ m-1):</h4>
                                <div class="equation">Pr(0|k) = p(k,s)             [Go to state 0: success]</div>
                                <div class="equation">Pr(k|k) = p(k,Œπ)             [Stay in state k: idle]</div>
                                <div class="equation">Pr(k+1|k) = p(k,c)           [Move to next state: collision]</div>
                                <div class="equation">Pr(j|k) = 0                  [Can't move to any other states]</div>
                            </div>

                            <div class="equation-set">
                                <h4>From Final State m:</h4>
                                <div class="equation">Pr(0|m) = p(m,s)             [Go to state 0: success]</div>
                                <div class="equation">Pr(m|m) = p(m,Œπ) + p(m,c)    [Stay in state m: idle OR collision]</div>
                                <div class="equation">Pr(j|m) = 0                  [Can't move to any other states]</div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>Complete Transition Matrix</h4>
                            <div class="matrix-display">
                                <strong>Transition Matrix P:</strong><br><br>
                                <div class="matrix-content">
                                        State:  0    1    2   ...   k   k+1  ...  m-1   m<br>
                                State 0:       [A    B    0   ...   0    0   ...   0    0  ]<br>
                                State 1:       [C    D    E   ...   0    0   ...   0    0  ]<br>
                                State 2:       [F    0    G   ...   0    0   ...   0    0  ]<br>
                                  ‚ãÆ            [‚ãÆ    ‚ãÆ    ‚ãÆ    ‚ã±    ‚ãÆ    ‚ãÆ    ‚ã±    ‚ãÆ    ‚ãÆ  ]<br>
                                State k:       [H    0    0   ...   I    J   ...   0    0  ]<br>
                                  ‚ãÆ            [‚ãÆ    ‚ãÆ    ‚ãÆ    ‚ã±    ‚ãÆ    ‚ãÆ    ‚ã±    ‚ãÆ    ‚ãÆ  ]<br>
                                State m:       [K    0    0   ...   0    0   ...   0    L  ]<br><br>
                                
                                <strong>Where:</strong><br>
                                A = p(0,s) + p(0,Œπ),  B = p(0,c)<br>
                                C = p(1,s),  D = p(1,Œπ),  E = p(1,c)<br>
                                ... and so on
                                </div>
                            </div>
                        </div>

                        <div class="result-box">
                            <strong>Summary of All Transition Probabilities:</strong><br><br>
                            <div class="equation-system">
                                ‚éß Pr(0|0) = p(0,s) + p(0,Œπ)<br>
                                ‚é™ Pr(1|0) = p(0,c)<br>
                                ‚é™ Pr(k+1|k) = p(k,c),     for 0 ‚â§ k ‚â§ m-1<br>
                                ‚é® Pr(0|k) = p(k,s),       for 1 ‚â§ k ‚â§ m<br>
                                ‚é™ Pr(k|k) = p(k,Œπ),       for 1 ‚â§ k ‚â§ m-1<br>
                                ‚é™ Pr(m|m) = p(m,Œπ) + p(m,c)<br>
                                ‚é© All other transitions = 0
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part iii: How to Solve the DTMC -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">iii</div>
                        <div class="step-title">How to Solve the DTMC</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>Step-by-Step Solution Method</h4>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 1: Define Problem Parameters</h4>
                            <div class="formula-box">
                                For a specific User Priority class i:<br>
                                1. Get <strong>CP_max(i)</strong> and <strong>CP_min(i)</strong> from IEEE 802.15.6 standard<br>
                                2. Calculate <strong>m = 2‚åälog‚ÇÇ(CP_max(i)/CP_min(i))‚åã</strong><br>
                                3. Determine number of nodes <strong>n_i</strong> in this class
                            </div>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 2: Calculate Event Probabilities</h4>
                            <div class="equation-set">
                                <h5>Transmission probability in state k:</h5>
                                <div class="equation">1 - p_i(k,Œπ) = max(CP_max(i)/2^(k/2), CP_min(i))</div>
                            </div>
                            
                            <div class="equation-set">
                                <h5>Collision probability (depends on other nodes):</h5>
                                <div class="equation">Œ≥_i = 1 - (1-œÑ_i)^(n_i-1) √ó ‚àè[j‚â†i] (1-œÑ_j)^n_j</div>
                            </div>
                            
                            <div class="equation-set">
                                <h5>Success and collision probabilities:</h5>
                                <div class="equation">p_i(k,s) = (1-Œ≥_i) √ó {1-p_i(k,Œπ)}    [succeed if no collision]</div>
                                <div class="equation">p_i(k,c) = Œ≥_i √ó {1-p_i(k,Œπ)}        [collision if others transmit]</div>
                            </div>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 3: Set Up Balance Equations</h4>
                            <div class="definition-box">
                                <strong>For steady state, flow in = flow out for each state:</strong>
                            </div>
                            
                            <div class="equation-set">
                                <h5>State 0 balance:</h5>
                                <div class="equation">œÄ_i,0 √ó [p(0,s) + p(0,Œπ)] + ‚àë[k=1 to m] œÄ_i,k √ó p(k,s) = œÄ_i,0</div>
                                <div class="equation">Simplifying: œÄ_i,0 = (1/p(0,c)) √ó ‚àë[k=1 to m] œÄ_i,k √ó p(k,s)</div>
                            </div>
                            
                            <div class="equation-set">
                                <h5>State k balance (1 ‚â§ k ‚â§ m-1):</h5>
                                <div class="equation">œÄ_i,k √ó [p(k,Œπ) + p(k,s) + p(k,c)] = œÄ_i,k-1 √ó p(k-1,c) + œÄ_i,k √ó p(k,Œπ)</div>
                                <div class="equation">Simplifying: œÄ_i,k = œÄ_i,k-1 √ó p(k-1,c)/(1-p(k,Œπ))</div>
                            </div>
                            
                            <div class="equation-set">
                                <h5>State m balance:</h5>
                                <div class="equation">œÄ_i,m = œÄ_i,m-1 √ó p(m-1,c)/p(m,s)</div>
                            </div>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 4: Express Everything in Terms of œÄ‚ÇÄ</h4>
                            <div class="equation-set">
                                <h5>Recursive relationships:</h5>
                                <div class="equation">œÄ_i,1 = œÄ_i,0 √ó Œ≥_i √ó {1-p(0,Œπ)}/(1-p(1,Œπ))</div>
                                <div class="equation">œÄ_i,2 = œÄ_i,1 √ó Œ≥_i √ó {1-p(1,Œπ)}/(1-p(2,Œπ))</div>
                                <div class="equation">...</div>
                                <div class="equation">œÄ_i,k = œÄ_i,0 √ó Œ≥_i^k √ó {1-p(0,Œπ)}/(1-p(k,Œπ))</div>
                            </div>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 5: Use Normalization Condition</h4>
                            <div class="formula-box">
                                All probabilities must sum to 1:<br>
                                <div class="equation">‚àë[k=0 to m] œÄ_i,k = 1</div>
                            </div>
                            
                            <div class="equation-set">
                                <h5>Substitute expressions from Step 4:</h5>
                                <div class="equation">œÄ_i,0 √ó [1 + Œ≥_i√ó{1-p(0,Œπ)}/(1-p(1,Œπ)) + Œ≥_i¬≤√ó{1-p(0,Œπ)}/(1-p(2,Œπ)) + ... ] = 1</div>
                                <div class="equation"><strong>Solve for œÄ_i,0:</strong> œÄ_i,0 = 1 / [denominator from above equation]</div>
                            </div>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 6: Calculate Performance Metrics</h4>
                            <div class="equation-set">
                                <h5>Transmission probability:</h5>
                                <div class="equation">œÑ_i = ‚àë[k=0 to m] œÄ_i,k √ó {1-p(k,Œπ)}</div>
                            </div>
                            
                            <div class="equation-set">
                                <h5>Throughput:</h5>
                                <div class="equation">Œ∑_i = n_i √ó œÑ_i √ó (1-Œ≥_i)</div>
                            </div>
                        </div>

                        <div class="solution-step">
                            <h4>STEP 7: Solve the Coupled System</h4>
                            <div class="result-box">
                                <strong>The key challenge:</strong> œÑ_i and Œ≥_i depend on each other!<br><br>
                                <strong>Method:</strong> Use iterative solution<br>
                                1. <strong>Initialize:</strong> Start with guess values for all œÑ_i<br>
                                2. <strong>Calculate:</strong> Compute Œ≥_i from equation with current œÑ_i values<br>
                                3. <strong>Update:</strong> Calculate new œÑ_i from DTMC solution with current Œ≥_i<br>
                                4. <strong>Repeat:</strong> Until convergence |œÑ_i^new - œÑ_i^old| < Œµ<br>
                                5. <strong>Final:</strong> Compute all performance metrics
                            </div>
                        </div>

                        <div class="concept-box">
                            <h4>Why This Solution Method Works</h4>
                            <ul>
                                <li><strong>Markov property:</strong> Future depends only on current state</li>
                                <li><strong>Steady state:</strong> System reaches equilibrium over time</li>
                                <li><strong>Balance equations:</strong> Ensure probability conservation</li>
                                <li><strong>Iterative solution:</strong> Handles the coupling between nodes</li>
                            </ul>
                            <p>This systematic approach allows us to predict the performance of wireless body area networks using IEEE 802.15.6 protocol!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Problem 2: DTMC Scenario Analysis -->
        <div class="problem-section" id="problem2">
            <div class="problem-header">
                Problem 2: DTMC Scenario Analysis
            </div>
            <div class="problem-content">
                <div class="question-box">
                    <h3>Question 7:</h3>
                    <p>Follow the scenario at the figure drawn at Question 6.</p>
                    <p>Let <span class="highlight">œÑ</span> be the probability that the tagged node transmits in a generic slot regardless of the fate of that transmission and <span class="highlight">Œ≥</span> be the probability of collision. Considering the <strong>saturated and homogeneous traffic</strong> for the case of the IEEE 802.15.6, find out the following things:</p>
                    <ol>
                        <li><strong>i.</strong> The collision probability for the tagged node <strong>[3]</strong></li>
                        <li><strong>ii.</strong> The balance equation <strong>[3]</strong></li>
                        <li><strong>iii.</strong> The normalization relation in equation <strong>[2]</strong></li>
                        <li><strong>iv.</strong> Stationary state probabilities at state k <strong>[3]</strong></li>
                        <li><strong>v.</strong> The probability of successful transmission by the tagged node in a slot <strong>[3]</strong></li>
                    </ol>
                </div>

                <div class="concept-box">
                    <h4>Understanding the Problem Setup</h4>
                    <div class="definition-box">
                        <strong>What we have:</strong><br>
                        ‚Ä¢ A <strong>tagged node</strong> (the node we're studying)<br>
                        ‚Ä¢ <strong>œÑ</strong> = probability that the tagged node transmits in any slot<br>
                        ‚Ä¢ <strong>Œ≥</strong> = probability that the tagged node experiences collision<br>
                        ‚Ä¢ <strong>Saturated and homogeneous traffic</strong> (all nodes always have packets to send, same priority)
                    </div>
                </div>

                <!-- Part i: Collision Probability -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">i</div>
                        <div class="step-title">Collision Probability for the Tagged Node</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>What is Collision?</h4>
                            <p><strong>Collision happens when:</strong> Two or more nodes transmit in the same time slot.</p>
                        </div>

                        <div class="sub-section">
                            <h4>For Homogeneous Network (All Nodes Same Priority)</h4>
                            <div class="definition-box">
                                <strong>Scenario:</strong> Network has <strong>N total nodes</strong> of the same user priority class.
                            </div>
                            
                            <div class="formula-box">
                                <strong>Logic:</strong><br>
                                ‚Ä¢ Our tagged node is 1 of the N nodes<br>
                                ‚Ä¢ The other <strong>(N-1) nodes</strong> can cause collision<br>
                                ‚Ä¢ Collision occurs when <strong>at least one</strong> of the other (N-1) nodes transmits
                            </div>

                            <div class="equation-set">
                                <h5>Step-by-step calculation:</h5>
                                <div class="calculation-step">
                                    <strong>Step 1:</strong> Probability that one specific other node does NOT transmit = (1-œÑ)
                                </div>
                                <div class="calculation-step">
                                    <strong>Step 2:</strong> Probability that ALL (N-1) other nodes do NOT transmit = (1-œÑ)^(N-1)
                                </div>
                                <div class="calculation-step">
                                    <strong>Step 3:</strong> Probability that AT LEAST ONE other node transmits = 1 - (1-œÑ)^(N-1)
                                </div>
                            </div>

                            <div class="result-box">
                                <strong>Therefore:</strong><br>
                                <div class="final-equation">Œ≥ = 1 - (1-œÑ)^(N-1)</div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>For Heterogeneous Network (Multiple Priority Classes)</h4>
                            <div class="definition-box">
                                <strong>Scenario:</strong> Network has multiple user priority classes with different transmission probabilities.<br><br>
                                <strong>Given:</strong><br>
                                ‚Ä¢ <strong>n_i</strong> = number of nodes in class i<br>
                                ‚Ä¢ <strong>œÑ_j</strong> = transmission probability for nodes in class j<br>
                                ‚Ä¢ Tagged node is in class i
                            </div>
                            
                            <div class="formula-box">
                                <strong>Logic:</strong><br>
                                ‚Ä¢ Tagged node experiences collision if ANY other node transmits<br>
                                ‚Ä¢ Other nodes include: (n_i - 1) nodes from same class + all nodes from other classes
                            </div>

                            <div class="result-box">
                                <strong>Formula:</strong><br>
                                <div class="final-equation">Œ≥_i = 1 - (1-œÑ_i)^(n_i-1) √ó ‚àè[j=0,j‚â†i]^7 (1-œÑ_j)^n_j</div>
                                <br>
                                <strong>Explanation:</strong><br>
                                ‚Ä¢ <strong>(1-œÑ_i)^(n_i-1)</strong> = Probability that other nodes in same class don't transmit<br>
                                ‚Ä¢ <strong>‚àè(1-œÑ_j)^n_j</strong> = Probability that nodes in all other classes don't transmit<br>
                                ‚Ä¢ <strong>Œ≥_i = 1 - (both conditions)</strong> = Probability of collision
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part ii: Balance Equation -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">ii</div>
                        <div class="step-title">Balance Equation</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>What are Balance Equations?</h4>
                            <p><strong>Concept:</strong> In steady state, the <strong>rate of entering</strong> each state equals the <strong>rate of leaving</strong> that state.</p>
                            <p><strong>Think of it like:</strong> Water flowing into and out of a bucket - in steady state, inflow = outflow.</p>
                        </div>

                        <div class="sub-section">
                            <h4>Balance Equations for Each State</h4>
                            
                            <div class="balance-state">
                                <h5>State 0 (Initial State):</h5>
                                <div class="flow-description">
                                    <strong>Flow INTO state 0:</strong><br>
                                    ‚Ä¢ From state 0 itself: œÄ‚ÇÄ √ó [p(0,s) + p(0,Œπ)] (success or idle)<br>
                                    ‚Ä¢ From all other states: ‚àë[k=1 to m] œÄ_k √ó p(k,s) (successful transmission)<br><br>
                                    
                                    <strong>Flow OUT of state 0:</strong><br>
                                    ‚Ä¢ To state 1: œÄ‚ÇÄ √ó p(0,c) (collision)<br><br>
                                    
                                    <strong>Balance equation:</strong><br>
                                    <div class="equation">œÄ‚ÇÄ √ó [p(0,s) + p(0,Œπ)] + ‚àë[k=1 to m] œÄ_k √ó p(k,s) = œÄ‚ÇÄ</div>
                                </div>

                                <div class="formula-box">
                                    <strong>Simplifying:</strong> Since p(0,s) + p(0,Œπ) + p(0,c) = 1:<br>
                                    <div class="equation">œÄ‚ÇÄ √ó [1 - p(0,c)] + ‚àë[k=1 to m] œÄ_k √ó p(k,s) = œÄ‚ÇÄ</div>
                                    <br>
                                    <strong>Final form:</strong><br>
                                    <div class="final-equation">œÄ‚ÇÄ = (1/p(0,c)) √ó ‚àë[k=1 to m] œÄ_k √ó p(k,s)</div>
                                </div>
                            </div>

                            <div class="balance-state">
                                <h5>Intermediate States k (1 ‚â§ k ‚â§ m-1):</h5>
                                <div class="flow-description">
                                    <strong>Flow INTO state k:</strong><br>
                                    ‚Ä¢ From state k-1: œÄ_{k-1} √ó p(k-1,c) (collision from previous state)<br>
                                    ‚Ä¢ From state k itself: œÄ_k √ó p(k,Œπ) (idle in current state)<br><br>
                                    
                                    <strong>Flow OUT of state k:</strong><br>
                                    ‚Ä¢ To state 0: œÄ_k √ó p(k,s) (successful transmission)<br>
                                    ‚Ä¢ To state k+1: œÄ_k √ó p(k,c) (collision to next state)<br><br>
                                    
                                    <strong>Balance equation:</strong><br>
                                    <div class="equation">œÄ_{k-1} √ó p(k-1,c) + œÄ_k √ó p(k,Œπ) = œÄ_k √ó p(k,s) + œÄ_k √ó p(k,c)</div>
                                </div>

                                <div class="formula-box">
                                    <strong>Simplifying:</strong><br>
                                    <div class="equation">œÄ_{k-1} √ó p(k-1,c) = œÄ_k √ó [p(k,s) + p(k,c)]</div>
                                    <div class="equation">œÄ_{k-1} √ó p(k-1,c) = œÄ_k √ó [1 - p(k,Œπ)]</div>
                                    <br>
                                    <strong>Final form:</strong><br>
                                    <div class="final-equation">œÄ_k = œÄ_{k-1} √ó [p(k-1,c)/(1-p(k,Œπ))]</div>
                                </div>
                            </div>

                            <div class="balance-state">
                                <h5>Final State m:</h5>
                                <div class="flow-description">
                                    <strong>Flow INTO state m:</strong><br>
                                    ‚Ä¢ From state m-1: œÄ_{m-1} √ó p(m-1,c)<br>
                                    ‚Ä¢ From state m itself: œÄ_m √ó [p(m,Œπ) + p(m,c)]<br><br>
                                    
                                    <strong>Flow OUT of state m:</strong><br>
                                    ‚Ä¢ To state 0: œÄ_m √ó p(m,s)<br><br>
                                    
                                    <strong>Balance equation:</strong><br>
                                    <div class="equation">œÄ_{m-1} √ó p(m-1,c) + œÄ_m √ó [p(m,Œπ) + p(m,c)] = œÄ_m √ó p(m,s)</div>
                                </div>

                                <div class="result-box">
                                    <strong>Final form:</strong><br>
                                    <div class="final-equation">œÄ_m = œÄ_{m-1} √ó [p(m-1,c)/p(m,s)]</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part iii: Normalization Relation -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">iii</div>
                        <div class="step-title">Normalization Relation</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>What is Normalization?</h4>
                            <p><strong>Concept:</strong> All state probabilities must add up to 1 (100% probability).</p>
                        </div>

                        <div class="formula-box">
                            <strong>Mathematical expression:</strong><br>
                            <div class="final-equation">‚àë[k=0 to m] œÄ_k = 1</div>
                            <br>
                            <strong>Expanded form:</strong><br>
                            <div class="equation">œÄ‚ÇÄ + œÄ‚ÇÅ + œÄ‚ÇÇ + ... + œÄ_m = 1</div>
                        </div>

                        <div class="sub-section">
                            <h4>Expressing All States in Terms of œÄ‚ÇÄ</h4>
                            
                            <div class="equation-set">
                                <h5>From balance equations, we can write:</h5>
                                <div class="recursive-step">
                                    <strong>State 1:</strong><br>
                                    <div class="equation">œÄ‚ÇÅ = œÄ‚ÇÄ √ó [p(0,c)/(1-p(1,Œπ))]</div>
                                </div>
                                
                                <div class="recursive-step">
                                    <strong>State 2:</strong><br>
                                    <div class="equation">œÄ‚ÇÇ = œÄ‚ÇÅ √ó [p(1,c)/(1-p(2,Œπ))] = œÄ‚ÇÄ √ó [p(0,c)/(1-p(1,Œπ))] √ó [p(1,c)/(1-p(2,Œπ))]</div>
                                </div>
                                
                                <div class="recursive-step">
                                    <strong>General pattern for state k:</strong><br>
                                    <div class="equation">œÄ_k = œÄ‚ÇÄ √ó Œ≥^k √ó {1-p(0,Œπ)}/{1-p(k,Œπ)}     (for 0 < k < m)</div>
                                </div>
                                
                                <div class="recursive-step">
                                    <strong>State m:</strong><br>
                                    <div class="equation">œÄ_m = œÄ‚ÇÄ √ó Œ≥^m √ó {1-p(0,Œπ)}/[(1-Œ≥)√ó{1-p(m,Œπ)}]</div>
                                </div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>Solving for œÄ‚ÇÄ</h4>
                            
                            <div class="formula-box">
                                <strong>Substitute into normalization equation:</strong><br>
                                <div class="equation">œÄ‚ÇÄ √ó [1 + ‚àë[k=1 to m-1] Œ≥^k√ó{1-p(0,Œπ)}/{1-p(k,Œπ)} + Œ≥^m√ó{1-p(0,Œπ)}/[(1-Œ≥)√ó{1-p(m,Œπ)}]] = 1</div>
                            </div>

                            <div class="result-box">
                                <strong>Therefore:</strong><br>
                                <div class="final-equation">œÄ‚ÇÄ = 1 / [denominator from above equation]</div>
                                <br>
                                <strong>Simplified form (from IEEE 802.15.6 paper):</strong><br>
                                <div class="equation">œÄ‚ÇÄ = 1 / [‚àë[x=0 to m/2-1] (2^x√óŒ≥^{2x} + 2^x√óŒ≥^{2x+1}) + 2^{m/2}√óŒ≥^m/(1-Œ≥)]</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part iv: Stationary State Probabilities -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">iv</div>
                        <div class="step-title">Stationary State Probabilities at State k</div>
                    </div>
                    <div class="step-content">
                        <div class="sub-section">
                            <h4>General Formula</h4>
                            
                            <div class="result-box">
                                <strong>For any state k (0 < k < m):</strong><br>
                                <div class="final-equation">œÄ_k = œÄ‚ÇÄ √ó Œ≥^k √ó {1-p(0,Œπ)}/{1-p(k,Œπ)}</div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>Using IEEE 802.15.6 Parameters</h4>
                            
                            <div class="formula-box">
                                <strong>Recall that:</strong><br>
                                <div class="equation">1-p(k,Œπ) = max(CP_max/2^{k/2}, CP_min)</div>
                                <br>
                                <strong>So the probabilities become:</strong><br>
                                <div class="equation">œÄ_k = œÄ‚ÇÄ √ó Œ≥^k √ó {1-p(0,Œπ)}/{1-max(CP_max/2^{k/2}, CP_min)}</div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>Specific Examples</h4>
                            
                            <div class="probability-grid">
                                <div class="probability-card">
                                    <div class="probability-title">State 0</div>
                                    <div class="formula-box">
                                        œÄ‚ÇÄ = [calculated from normalization as above]
                                    </div>
                                </div>
                                
                                <div class="probability-card">
                                    <div class="probability-title">State 1</div>
                                    <div class="formula-box">
                                        œÄ‚ÇÅ = œÄ‚ÇÄ √ó Œ≥ √ó {1-p(0,Œπ)}/{1-p(1,Œπ)}
                                    </div>
                                </div>
                                
                                <div class="probability-card">
                                    <div class="probability-title">State 2</div>
                                    <div class="formula-box">
                                        œÄ‚ÇÇ = œÄ‚ÇÄ √ó Œ≥¬≤ √ó {1-p(0,Œπ)}/{1-p(2,Œπ)}
                                    </div>
                                </div>
                                
                                <div class="probability-card">
                                    <div class="probability-title">State m</div>
                                    <div class="formula-box">
                                        œÄ_m = œÄ‚ÇÄ √ó Œ≥^m √ó {1-p(0,Œπ)}/[(1-Œ≥)√ó{1-p(m,Œπ)}]
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Part v: Probability of Successful Transmission -->
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">v</div>
                        <div class="step-title">Probability of Successful Transmission</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>What is Success Probability?</h4>
                            <p><strong>Definition:</strong> Probability that the tagged node successfully transmits a packet in any given time slot.</p>
                        </div>

                        <div class="sub-section">
                            <h4>Mathematical Derivation</h4>
                            
                            <div class="definition-box">
                                <strong>Success occurs when:</strong><br>
                                1. Node decides to transmit: probability = {1-p(k,Œπ)}<br>
                                2. No collision happens: probability = (1-Œ≥)<br>
                                3. Node is in state k: probability = œÄ_k
                            </div>
                            
                            <div class="formula-box">
                                <strong>For a node in state k:</strong><br>
                                <div class="equation">P(success from state k) = œÄ_k √ó {1-p(k,Œπ)} √ó (1-Œ≥)</div>
                                <br>
                                <strong>Total success probability (summing over all states):</strong><br>
                                <div class="equation">P_success = ‚àë[k=0 to m] œÄ_k √ó {1-p(k,Œπ)} √ó (1-Œ≥)</div>
                            </div>
                            
                            <div class="result-box">
                                <strong>Factoring out (1-Œ≥):</strong><br>
                                <div class="final-equation">P_success = (1-Œ≥) √ó ‚àë[k=0 to m] œÄ_k √ó {1-p(k,Œπ)}</div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>Alternative Expression Using œÑ</h4>
                            
                            <div class="formula-box">
                                <strong>Recall that œÑ is the total transmission probability:</strong><br>
                                <div class="equation">œÑ = ‚àë[k=0 to m] œÄ_k √ó {1-p(k,Œπ)}</div>
                            </div>
                            
                            <div class="result-box">
                                <strong>Therefore:</strong><br>
                                <div class="final-equation">P_success = œÑ √ó (1-Œ≥)</div>
                            </div>
                        </div>

                        <div class="sub-section">
                            <h4>For Homogeneous Network</h4>
                            
                            <div class="formula-box">
                                <strong>Substituting Œ≥ = 1-(1-œÑ)^{N-1}:</strong><br>
                                <div class="final-equation">P_success = œÑ √ó (1-œÑ)^{N-1}</div>
                            </div>
                        </div>

                        <div class="concept-box">
                            <h4>Physical Interpretation</h4>
                            <p><strong>This makes intuitive sense:</strong></p>
                            <ul>
                                <li><strong>œÑ</strong>: Probability that our node transmits</li>
                                <li><strong>(1-Œ≥)</strong>: Probability that no collision occurs</li>
                                <li><strong>œÑ√ó(1-Œ≥)</strong>: Probability of both conditions (successful transmission)</li>
                            </ul>
                        </div>

                        <div class="sub-section">
                            <h4>Throughput Calculation</h4>
                            
                            <div class="result-box">
                                <strong>For a network with n_i nodes of class i:</strong><br>
                                <div class="final-equation">Œ∑_i = n_i √ó œÑ_i √ó (1-Œ≥_i)</div>
                                <br>
                                <strong>This represents:</strong> Average number of successful transmissions per slot for class i.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Final Summary -->
                <div class="final-answer">
                    <h3>Summary of Key Results</h3>
                    <div class="answer-grid">
                        <div class="answer-item">
                            <strong>1. Collision probability:</strong><br>
                            Œ≥ = 1-(1-œÑ)^{N-1}
                        </div>
                        <div class="answer-item">
                            <strong>2. Balance equations:</strong><br>
                            œÄ_k = œÄ_{k-1} √ó p(k-1,c)/(1-p(k,Œπ))
                        </div>
                        <div class="answer-item">
                            <strong>3. Normalization:</strong><br>
                            ‚àëœÄ_k = 1 ‚Üí solve for œÄ‚ÇÄ
                        </div>
                        <div class="answer-item">
                            <strong>4. State probabilities:</strong><br>
                            œÄ_k = œÄ‚ÇÄ √ó Œ≥^k √ó {1-p(0,Œπ)}/{1-p(k,Œπ)}
                        </div>
                        <div class="answer-item">
                            <strong>5. Success probability:</strong><br>
                            P_success = œÑ√ó(1-Œ≥)
                        </div>
                    </div>
                    <p class="summary-text">
                        These equations form a complete mathematical model for analyzing IEEE 802.15.6 wireless body area networks!
                    </p>
                </div>
            </div>
        </div>

        <!-- Key Learning Points -->
        <div class="problem-section" id="learning">
            <div class="problem-header">
                Key Learning Points & Concepts
            </div>
            <div class="problem-content">
                <div class="step">
                    <div class="step-header">
                        <div class="step-number">üìö</div>
                        <div class="step-title">What is a Discrete Time Markov Chain (DTMC)?</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>Simple Explanation</h4>
                            <p>A <strong>DTMC</strong> is like a game where:</p>
                            <ul>
                                <li>You're always in one of several "states"</li>
                                <li>Every turn, you might move to a different state or stay in the same one</li>
                                <li>The probability of where you go next depends ONLY on where you are now (not on how you got there)</li>
                                <li>The rules never change over time</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">üîÑ</div>
                        <div class="step-title">Why Use DTMC for Wireless Networks?</div>
                    </div>
                    <div class="step-content">
                        <div class="probability-grid">
                            <div class="probability-card">
                                <div class="probability-title">State Representation</div>
                                <p>Each state represents how many times a node has failed to transmit. Higher states = more frustrated nodes = more careful behavior.</p>
                            </div>
                            <div class="probability-card">
                                <div class="probability-title">Transition Modeling</div>
                                <p>State transitions model what happens after each transmission attempt: success (go to state 0), collision (go to next state), or idle (stay).</p>
                            </div>
                            <div class="probability-card">
                                <div class="probability-title">Performance Analysis</div>
                                <p>Steady-state probabilities tell us long-term behavior: how often nodes transmit, collision rates, and overall throughput.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">‚öñÔ∏è</div>
                        <div class="step-title">Understanding Balance Equations</div>
                    </div>
                    <div class="step-content">
                        <div class="concept-box">
                            <h4>Water Tank Analogy</h4>
                            <p>Think of each state as a water tank:</p>
                            <ul>
                                <li><strong>Water flowing IN</strong> = Probability of entering this state</li>
                                <li><strong>Water flowing OUT</strong> = Probability of leaving this state</li>
                                <li><strong>Steady state</strong> = Water level constant (inflow = outflow)</li>
                                <li><strong>Balance equation</strong> = Mathematical expression of this equilibrium</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-header">
                        <div class="step-number">üéØ</div>
                        <div class="step-title">Practical Applications</div>
                    </div>
                    <div class="step-content">
                        <div class="definition-box">
                            <strong>This analysis helps us:</strong><br>
                            ‚Ä¢ <strong>Design better protocols</strong> by predicting performance<br>
                            ‚Ä¢ <strong>Optimize network parameters</strong> for maximum throughput<br>
                            ‚Ä¢ <strong>Plan network capacity</strong> based on expected load<br>
                            ‚Ä¢ <strong>Troubleshoot problems</strong> by identifying bottlenecks<br>
                            ‚Ä¢ <strong>Compare different approaches</strong> mathematically rather than by trial and error
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation and Footer -->
        <div class="nav-buttons">
            <button class="nav-btn" onclick="window.scrollTo(0, 0)">Back to Top</button>
            <button class="nav-btn" onclick="window.print()">Print This Tutorial</button>
            <button class="nav-btn" id="toggle-toc">Table of Contents</button>
        </div>

        <div class="footer">
            <p>¬© 2025 IEEE 802.15.6 DTMC Tutorial | Designed for Educational Purposes</p>
        </div>
    </div>

    <!-- Table of Contents -->
    <div id="table-of-contents" class="toc-container">
        <h4>Table of Contents</h4>
        <ul>
            <li><a href="#problem1">Problem 1: Markov Chain</a></li>
            <li><a href="#problem2">Problem 2: DTMC Analysis</a></li>
            <li><a href="#learning">Key Learning Points</a></li>
        </ul>
    </div>

    <!-- Progress Bar -->
    <div id="progress-bar"></div>

    <!-- JavaScript will be added separately -->
    <script src="script.js"></script>
</body>
</html>
